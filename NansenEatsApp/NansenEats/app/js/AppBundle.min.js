(function(){"use strict";var n=angular.module("app",["ngAnimate","ngRoute",]);n.config(function(n){n.when("/",{templateUrl:"app/templates/restaurantlist.html",controller:"RestaurantsController as vm"}).when("/restaurant/:restaurantid",{templateUrl:"app/templates/restaurantdetails.html",controller:"RestaurantDetailsController as vm"}).when("/restaurant/:restaurantid/new-review",{templateUrl:"app/templates/addreview.html",controller:"AddReviewController as vm"}).otherwise({redirectTo:"/"})})})(),function(){"use strict";function n(n,t,i){function u(){function u(n){return n.data}return n.get(r+"/api/restaurants").then(u).catch(function(n){i.catcher("XHR Failed for getRestaurants")(n);t.url("/")})}function f(u){function f(n){return n.data}return n.get(r+"/api/restaurants/"+u).then(f).catch(function(n){i.catcher("XHR Failed for getRestaurant")(n);t.url("/")})}function e(t){function u(n){return n.data}return n.post(r+"/api/rating",t).then(u).catch(function(n){i.catcher("XHR Failed for addRating")(n)})}function o(t){function u(n){return n.data}return n.post(r+"/api/comment",t).then(u).catch(function(n){i.catcher("XHR Failed for addComment")(n)})}var r="http://eatsapi.local";return{getRestaurants:u,getRestaurant:f,addRating:e,addComment:o}}angular.module("app").factory("dataservice",n);n.$inject=["$http","$location","exception"]}(),function(){"use strict";function n(n){function t(t){return function(i){n.error(t,i)}}return{catcher:t}}angular.module("app").factory("exception",n);n.$inject=["logger"]}(),function(){"use strict";function n(n){function t(t,i){n.error("Error: "+t,i)}function i(t,i){n.info("Info: "+t,i)}function r(t,i){n.info("Success: "+t,i)}function u(t,i){n.warn("Warning: "+t,i)}return{error:t,info:i,success:r,warning:u,log:n.log}}angular.module("app").factory("logger",n);n.$inject=["$log"]}(),function(){"use strict";function n(){return{restrict:"EA",scope:{loadedproperty:"="},template:'<div ng-hide="loadedproperty" class="col-sm-12 loading"><\/div>'}}angular.module("app").directive("loader",n);n.$inject=["$window"]}(),function(){"use strict";function n(n,t,i){function u(n){if(r.sort==n){r.reverse=!r.reverse;return}r.sort=n;r.reverse=!1}function f(){return e().then(function(){i.info("Activated Restaurants View");r.changeSort("AverageRating")})}function e(){return t.getRestaurants().then(function(n){return r.restaurants=n,r.restaurants})}var r=this;r.title="RestaurantsController";r.restaurants=[];f();r.sort="AverageRating";r.reverse=!1;r.offcanvas=!0;r.sortGroup=[{Sort:"AverageRating",Name:"Rating"},{Sort:"DistanceFromOffice",Name:"Distance"},{Sort:"Name",Name:"Name"},{Sort:"PriceRangeMin",Name:"Price"}];r.changeSort=u}angular.module("app").controller("RestaurantsController",n);n.$inject=["$location","dataservice","logger","$routeParams"]}(),function(){"use strict";function n(n,t,i,r){function f(){return e().then(function(){i.info("Activated Restaurant Details View")})}function e(){return u.restaurantId=r.restaurantid,t.getRestaurant(u.restaurantId).then(function(n){return u.restaurant=n,u.restaurant})}var u=this;u.title="RestaurantDetailsController";u.restaurant={};f()}angular.module("app").controller("RestaurantDetailsController",n);n.$inject=["$location","dataservice","logger","$routeParams"]}(),function(){"use strict";function n(n,t,i,r){function f(){e()}function e(){u.rating.RestaurantId=r.restaurantid;u.comment.RestaurantId=r.restaurantid}function o(){u.rating&&t.addRating(u.rating).then(function(i){i&&u.comment.value?t.addComment(u.comment).then(function(t){t&&n.url("/restaurant/"+r.restaurantid)}):i?n.url("/restaurant/"+r.restaurantid):(u.rating.RestaurantId=r.restaurantid,u.comment.RestaurantId=r.restaurantid)})}var u=this;u.title="AddReviewController";u.rating={};u.comment={};u.addReview=o;f()}angular.module("app").controller("AddReviewController",n);n.$inject=["$location","dataservice","logger","$routeParams"]}();